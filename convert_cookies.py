"""
Convert Chrome extension cookies to Playwright format
"""

import json

# Your cookies in Chrome extension format (as string for parsing)
cookies_json = '''[[{"domain":".x.com","expirationDate":1796623697,"hostOnly":false,"httpOnly":false,"name":"__cuid","path":"/","sameSite":"lax","secure":false,"session":false,"storeId":"0","value":"ee5c6554917348f6b544b2606f996ddf"},{"domain":"x.com","hostOnly":true,"httpOnly":false,"name":"lang","path":"/","sameSite":"unspecified","secure":false,"session":true,"storeId":"0","value":"en"},{"domain":".x.com","expirationDate":1796574672.67112,"hostOnly":false,"httpOnly":false,"name":"guest_id","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"v1%3A176201467260578640"},{"domain":".x.com","expirationDate":1793551298,"hostOnly":false,"httpOnly":false,"name":"twtr_pixel_opt_in","path":"/","sameSite":"unspecified","secure":false,"session":false,"storeId":"0","value":"Y"},{"domain":".x.com","expirationDate":1796623704.928042,"hostOnly":false,"httpOnly":false,"name":"guest_id_marketing","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"v1%3A176201467260578640"},{"domain":".x.com","expirationDate":1796623704.927925,"hostOnly":false,"httpOnly":false,"name":"guest_id_ads","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"v1%3A176201467260578640"},{"domain":".x.com","expirationDate":1796622654.313016,"hostOnly":false,"httpOnly":false,"name":"personalization_id","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"\\"v1_Du46LPk09kCBJxzNOa39HA==\\""},{"domain":".x.com","expirationDate":1762071654.313406,"hostOnly":false,"httpOnly":false,"name":"gt","path":"/","sameSite":"unspecified","secure":true,"session":false,"storeId":"0","value":"1984860742068121758"},{"domain":"x.com","expirationDate":1777614672,"hostOnly":true,"httpOnly":false,"name":"g_state","path":"/","sameSite":"unspecified","secure":false,"session":false,"storeId":"0","value":"{\\"i_l\\":0,\\"i_ll\\":1762062656883}"},{"domain":".x.com","expirationDate":1796622682.017923,"hostOnly":false,"httpOnly":true,"name":"kdt","path":"/","sameSite":"unspecified","secure":true,"session":false,"storeId":"0","value":"SGDjaKqoUYAlBTrcU5JdtmykLSrO2AI1YctADTCa"},{"domain":".x.com","expirationDate":1796622682.018314,"hostOnly":false,"httpOnly":true,"name":"auth_token","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"e9e9fdcddce143a2833a7ac1f4a030a0bb3dcfe6"},{"domain":".x.com","expirationDate":1796622682.838268,"hostOnly":false,"httpOnly":false,"name":"ct0","path":"/","sameSite":"lax","secure":true,"session":false,"storeId":"0","value":"48bab906d17741c9183e335183a3775d9cbfa94d54071f356dbaff3647d6aec1c158786c7b1372f1872164f77ab8291bc318620ac2b7187ce64a04cbe5424f030387bcc171614ebea1d88145c1e15b24"},{"domain":".x.com","expirationDate":1762149083.324609,"hostOnly":false,"httpOnly":true,"name":"att","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"1-gyqxlflgy2tVarmACtFZQhsqFPsltdZ8UI2PxR66"},{"domain":".x.com","expirationDate":1793599713.279603,"hostOnly":false,"httpOnly":false,"name":"twid","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"u%3D1984657928985743360"},{"domain":".x.com","expirationDate":1762065786.351091,"hostOnly":false,"httpOnly":true,"name":"__cf_bm","path":"/","sameSite":"unspecified","secure":true,"session":false,"storeId":"0","value":"hm9dzVcn5j38GDFgzcaCj6ieX2tPOpZUFYkz.XCU2a0-1762063986.007527-1.0.1.1-Qf9PH45flQQD4uGVbgxGkpLo5K0CZdrFiS_EaNSkiYguXV.WMMYN5P67ddKIIN.3d9fsDXDgIKucNPHjSWViNpzXyz4HqH8G63gStPihnbLtRMJWYq.yoVUf44sr2cJo"},{"domain":".x.com","expirationDate":1791980913.970911,"hostOnly":false,"httpOnly":true,"name":"cf_clearance","partitionKey":{"hasCrossSiteAncestor":false,"topLevelSite":"https://x.com"},"path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"febnOrVDt8q3g9Xm8ThpY20tHnhPCJhCGVXdgbdIAgM-1760444914-1.2.1.1-L3hlvfPm.v8S8K2LtKU5YMpmk3SGY6t.AkrUcIuXIMJmbF4KbXKqTcKmGHd7J8JECkoZR3j.dqTNwXet00iA4dm6rOaN1CAEjc9jKnT6c7zK0twWQ0sCWRrqtkQ_gYPRB.RtkWxq7EmEXIsjL2cuBsxm9q3AB2f3lTK0PDIiZ9T18zBJEx8IA3_BOte86enW1UdtZ6OGAOz1._2Vs0RG8z302eRK2fjOApsIOhwNjN0"}],

[{"domain":".x.com","expirationDate":1796624100,"hostOnly":false,"httpOnly":false,"name":"__cuid","path":"/","sameSite":"lax","secure":false,"session":false,"storeId":"0","value":"ee5c6554917348f6b544b2606f996ddf"},{"domain":"x.com","hostOnly":true,"httpOnly":false,"name":"lang","path":"/","sameSite":"unspecified","secure":false,"session":true,"storeId":"0","value":"en"},{"domain":".x.com","expirationDate":1793551298,"hostOnly":false,"httpOnly":false,"name":"twtr_pixel_opt_in","path":"/","sameSite":"unspecified","secure":false,"session":false,"storeId":"0","value":"Y"},{"domain":".x.com","expirationDate":1762071654.313406,"hostOnly":false,"httpOnly":false,"name":"gt","path":"/","sameSite":"unspecified","secure":true,"session":false,"storeId":"0","value":"1984860742068121758"},{"domain":".x.com","expirationDate":1796624098.637446,"hostOnly":false,"httpOnly":true,"name":"kdt","path":"/","sameSite":"unspecified","secure":true,"session":false,"storeId":"0","value":"SGDjaKqoUYAlBTrcU5JdtmykLSrO2AI1YctADTCa"},{"domain":".x.com","expirationDate":1796624087.945176,"hostOnly":false,"httpOnly":false,"name":"dnt","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"1"},{"domain":".x.com","expirationDate":1796624088.291262,"hostOnly":false,"httpOnly":false,"name":"guest_id","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"v1%3A176206408816804768"},{"domain":".x.com","expirationDate":1796624101.701415,"hostOnly":false,"httpOnly":false,"name":"guest_id_marketing","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"v1%3A176206408816804768"},{"domain":".x.com","expirationDate":1796624101.701367,"hostOnly":false,"httpOnly":false,"name":"guest_id_ads","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"v1%3A176206408816804768"},{"domain":".x.com","expirationDate":1796624088.753893,"hostOnly":false,"httpOnly":false,"name":"personalization_id","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"\\"v1_B6aCmyn+JaDjLNlOMJslvA==\\""},{"domain":"x.com","expirationDate":1777616096,"hostOnly":true,"httpOnly":false,"name":"g_state","path":"/","sameSite":"unspecified","secure":false,"session":false,"storeId":"0","value":"{\\"i_l\\":0,\\"i_ll\\":1762064089784}"},{"domain":".x.com","expirationDate":1796624098.637897,"hostOnly":false,"httpOnly":true,"name":"auth_token","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"bb75058dc1e78afc66df55c218de47a271daeec6"},{"domain":".x.com","expirationDate":1796624099.10646,"hostOnly":false,"httpOnly":false,"name":"ct0","path":"/","sameSite":"lax","secure":true,"session":false,"storeId":"0","value":"a0b20c3691f59365f2cb5922c36988d70baa38cd0acebfa1f1f83a0df51254824a0339597b25271a5359dc296f2d8d0fdf60de8b0eb56a04adc365cc0ba2b9c3ac0da598effe0e937b50f5fc08590b23"},{"domain":".x.com","expirationDate":1793600101.701439,"hostOnly":false,"httpOnly":false,"name":"twid","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"u%3D1984640204393889792"},{"domain":".x.com","expirationDate":1762150499.55193,"hostOnly":false,"httpOnly":true,"name":"att","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"1-zMuxeCjrnhGzzwgVHMoNdTt20tGslcZtyUnix7ec"},{"domain":".x.com","expirationDate":1762065923.447137,"hostOnly":false,"httpOnly":true,"name":"__cf_bm","path":"/","sameSite":"unspecified","secure":true,"session":false,"storeId":"0","value":"xeeOZIseSXouiUqvEdBkReTXO6BXRtpir9RG79Rnt.E-1762064123.128839-1.0.1.1-4csLqdU2.aD27mu2rFQrPl8V83Z7Ctoz_dKPV3p3G.N16xeuefOlHnSjvaxxI0wIZzDrJ8NbSHVJLVkO2JrsUOjP.qeNm3PvnRP5PCX3je7KO9fwac9pH9JAoOT1Epk_"},{"domain":".x.com","expirationDate":1791980913.970911,"hostOnly":false,"httpOnly":true,"name":"cf_clearance","partitionKey":{"hasCrossSiteAncestor":false,"topLevelSite":"https://x.com"},"path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"febnOrVDt8q3g9Xm8ThpY20tHnhPCJhCGVXdgbdIAgM-1760444914-1.2.1.1-L3hlvfPm.v8S8K2LtKU5YMpmk3SGY6t.AkrUcIuXIMJmbF4KbXKqTcKmGHd7J8JECkoZR3j.dqTNwXet00iA4dm6rOaN1CAEjc9jKnT6c7zK0twWQ0sCWRrqtkQ_gYPRB.RtkWxq7EmEXIsjL2cuBsxm9q3AB2f3lTK0PDIiZ9T18zBJEx8IA3_BOte86enW1UdtZ6OGAOz1._2Vs0RG8z302eRK2fjOApsIOhwNjN0"}],

[{"domain":".x.com","expirationDate":1796624221,"hostOnly":false,"httpOnly":false,"name":"__cuid","path":"/","sameSite":"lax","secure":false,"session":false,"storeId":"0","value":"ee5c6554917348f6b544b2606f996ddf"},{"domain":"x.com","hostOnly":true,"httpOnly":false,"name":"lang","path":"/","sameSite":"unspecified","secure":false,"session":true,"storeId":"0","value":"en"},{"domain":".x.com","expirationDate":1793551298,"hostOnly":false,"httpOnly":false,"name":"twtr_pixel_opt_in","path":"/","sameSite":"unspecified","secure":false,"session":false,"storeId":"0","value":"Y"},{"domain":".x.com","expirationDate":1762071654.313406,"hostOnly":false,"httpOnly":false,"name":"gt","path":"/","sameSite":"unspecified","secure":true,"session":false,"storeId":"0","value":"1984860742068121758"},{"domain":".x.com","expirationDate":1796624191.236909,"hostOnly":false,"httpOnly":true,"name":"kdt","path":"/","sameSite":"unspecified","secure":true,"session":false,"storeId":"0","value":"SGDjaKqoUYAlBTrcU5JdtmykLSrO2AI1YctADTCa"},{"domain":".x.com","expirationDate":1796624165.15907,"hostOnly":false,"httpOnly":false,"name":"dnt","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"1"},{"domain":".x.com","expirationDate":1762150499.55193,"hostOnly":false,"httpOnly":true,"name":"att","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"1-zMuxeCjrnhGzzwgVHMoNdTt20tGslcZtyUnix7ec"},{"domain":".x.com","expirationDate":1796624165.519333,"hostOnly":false,"httpOnly":false,"name":"guest_id","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"v1%3A176206416539162175"},{"domain":".x.com","expirationDate":1796624223.175068,"hostOnly":false,"httpOnly":false,"name":"guest_id_marketing","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"v1%3A176206416539162175"},{"domain":".x.com","expirationDate":1796624223.17501,"hostOnly":false,"httpOnly":false,"name":"guest_id_ads","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"v1%3A176206416539162175"},{"domain":".x.com","expirationDate":1796624165.987104,"hostOnly":false,"httpOnly":false,"name":"personalization_id","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"\\"v1_OHsg56E4E/S4pPj2H8n8+Q==\\""},{"domain":"x.com","expirationDate":1777616178,"hostOnly":true,"httpOnly":false,"name":"g_state","path":"/","sameSite":"unspecified","secure":false,"session":false,"storeId":"0","value":"{\\"i_l\\":0,\\"i_ll\\":1762064167254}"},{"domain":".x.com","expirationDate":1796624191.237227,"hostOnly":false,"httpOnly":true,"name":"auth_token","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"fc719300067deb96ea581f09e60af60921b67c2f"},{"domain":".x.com","expirationDate":1796624191.771926,"hostOnly":false,"httpOnly":false,"name":"ct0","path":"/","sameSite":"lax","secure":true,"session":false,"storeId":"0","value":"e643cc9e9f900d3902c649c2a2dcc8d6ed74eb8645e69c32aed37ccbd2aea6daef34c317fa4f28b34ea8c24c05b29f90b578b0ec7055d1cdcd1a1654ce3b47b2c31ec9ac82da4cc768c3ff4c40800e39"},{"domain":".x.com","expirationDate":1793600223.175092,"hostOnly":false,"httpOnly":false,"name":"twid","path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"u%3D1984867145428451331"},{"domain":".x.com","expirationDate":1762066065.650841,"hostOnly":false,"httpOnly":true,"name":"__cf_bm","path":"/","sameSite":"unspecified","secure":true,"session":false,"storeId":"0","value":"u9DSrda6ZEI11QqKJyGqmIG5R3U7YRseTGrAQGRyHe0-1762064265.3447402-1.0.1.1-N5MFkYI1qRwTvCtjWCoXUEUvbbBulWFdOT1E3HoBkBJ2TY7nQlkbBBsTyzkiOS3xHt.6Akncge7V78RlXUX.FgDDvQE1nzyuMcDMevhJ4PRE8lDFDbnPK81G7XFBHJiv"},{"domain":".x.com","expirationDate":1791980913.970911,"hostOnly":false,"httpOnly":true,"name":"cf_clearance","partitionKey":{"hasCrossSiteAncestor":false,"topLevelSite":"https://x.com"},"path":"/","sameSite":"no_restriction","secure":true,"session":false,"storeId":"0","value":"febnOrVDt8q3g9Xm8ThpY20tHnhPCJhCGVXdgbdIAgM-1760444914-1.2.1.1-L3hlvfPm.v8S8K2LtKU5YMpmk3SGY6t.AkrUcIuXIMJmbF4KbXKqTcKmGHd7J8JECkoZR3j.dqTNwXet00iA4dm6rOaN1CAEjc9jKnT6c7zK0twWQ0sCWRrqtkQ_gYPRB.RtkWxq7EmEXIsjL2cuBsxm9q3AB2f3lTK0PDIiZ9T18zBJEx8IA3_BOte86enW1UdtZ6OGAOz1._2Vs0RG8z302eRK2fjOApsIOhwNjN0"}]]'''

def convert_to_playwright_format(chrome_cookies):
    """Convert Chrome extension cookies to Playwright format"""
    playwright_cookies = []
    
    for cookie in chrome_cookies:
        # Map Chrome format to Playwright format
        pw_cookie = {
            "name": cookie["name"],
            "value": cookie["value"],
            "domain": cookie["domain"],
            "path": cookie["path"],
            "expires": cookie.get("expirationDate", -1),
            "httpOnly": cookie.get("httpOnly", False),
            "secure": cookie.get("secure", False)
        }
        
        # Handle sameSite mapping
        sameSite_map = {
            "lax": "Lax",
            "unspecified": "None",
            "no_restriction": "None"
        }
        pw_cookie["sameSite"] = sameSite_map.get(cookie.get("sameSite", "unspecified"), "None")
        
        playwright_cookies.append(pw_cookie)
    
    return playwright_cookies

# Parse JSON string
cookies_raw = json.loads(cookies_json)

# Convert all 3 sets of cookies
for i, chrome_cookies in enumerate(cookies_raw, start=1):
    playwright_cookies = convert_to_playwright_format(chrome_cookies)
    output_file = f"cookies/cookie_{i}.json"
    
    with open(output_file, 'w') as f:
        json.dump(playwright_cookies, f, indent=2)
    
    print(f"âœ… Saved {output_file}: {len(playwright_cookies)} cookies")

print("\nðŸŽ‰ All 3 cookie files converted!")
